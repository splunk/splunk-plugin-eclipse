--- Q7 testcase ---
Format-Version: 1.0
Q7-vendor: www.xored.com/q7
Contexts: _TwP1gNISEeK_QsHHknmtsA,_QI0IoNK-EeK_QsHHknmtsA
Element-Name: Run a beacon
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _MhlM0WQ1EeOKfLFL_WXHJQ
Q7-Runtime-Version: 1.3.9.201310250528
Save-Time: 12/18/13 11:09 AM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-menu "File/New/Project..." | click
with [get-window "New Project"] {
    get-tree | select "Java/Java Project"
    get-button "Next >" | click
}
with [get-window "New Java Project"] {
    get-editbox -after [get-label "Project name:"] | set-text beacon
    get-button Finish | click
}
get-view "Project Explorer" | get-tree | select "beacon/src" | get-menu "New/Class" | click
with [get-window "New Java Class"] {
    get-editbox -after [get-label "Name:"] | set-text Beacon
    get-button Finish | click
}

with [get-editor "Beacon.java" | get-text-viewer] {
	set-text "public class Beacon {\n" + 
	    "    public static void main(String[] args) {\n" +
	    "        for (int i = 0; i < 10; i++) { foo(); }\n" +
	    "    }\n" +
	    "    public static void foo() {\n" +
	    "        System.out.println(\"Hello!\");\n" +
	    "    }\n" +
	    "}\n"
}
get-button "Save (M1+S)" | click

get-menu "Run/Run Configurations..." | click
with [get-window "Run Configurations"] {
    get-tree | select "Monitored Java Application" | double-click
    get-button Run | click
}

with [get-view Console | get-text-viewer] {
	select-range 2 1 2 44
	get-property "getSelectionText()" | equals "INFO: Loading mapping descriptors from jar:" | verify-true
	select-range 3 1 13 1
	get-property "getSelectionText()" | equals "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!\n"
    + "Hello!" | verify-true
}

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
